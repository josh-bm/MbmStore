@addTagHelper "*, Microsoft.AspNetCore.Mvc.TagHelpers"
@{
    ViewData["Title"] = "Catalogue";
}

@using MbmStore.Models

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>

<body>
    <h2>The Movies</h2>
    <section class="catalogue-container">
        @foreach (Product product in ViewBag.Products)
        {
            if (product is Movie)
            {
                Movie movie = (Movie)product;
                <section class="movie-container">
                    <img src="/Images/@movie.ImageFileName" alt="@movie.Title" />
                    <strong>Title: </strong>@movie.Title<br />
                    Director: @movie.Director<br />
                    Price: @String.Format("{0:0.00}", movie.Price) <br /> <br />
                </section>
            }
        }
    </section>

    <h2>The Books</h2>
    <section class="catalogue-container">
        @foreach (Product product in ViewBag.Products)
        {
            if (product is Book)
            {
                Book book = (Book)product;
                <section class="book-container">
                    <img src="/Images/@book.ImageFileName" alt="@book.Title" />
                    <strong>Title: </strong>@book.Title<br />
                    Author: @book.Author<br>
                    Price: @String.Format("{0:0.00}", book.Price) <br />
                    Published: @book.Published<br />
                    ISBN: @book.ISBN<br /> <br />
                </section>
            }
        }
    </section>

    <h2>The Music CDs</h2>
    <section class="catalogue-container">
        @foreach (Product product in ViewBag.Products)
        {
            if (product is MusicCD)
            {
                MusicCD cd = (MusicCD)product;
                <section class="music-container">
                    <img src="/Images/@cd.ImageFileName" alt="@cd.Title" />
                    <strong>Title: </strong>@cd.Title <br />
                    Artist: @cd.Artist<br />
                    Price: @String.Format("{0:0.00}", cd.Price) <br />
                    Released: @cd.Released<br /><br />
                </section>

                <section class="tracks-container">
                    <h3>Tracks</h3>
                    <ol>
                        @foreach (Track track in @cd.Tracks)
                        {

                            <li>@track.Title (@track.Composer) @track.Length.Minutes:@track.Length.Seconds </li>

                        }
                    </ol>
                    <p>Total playing time: @cd.PlayingTime</p>
                </section>

            }
        }
    </section>
</body>
</html>